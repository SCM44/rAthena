

-	script	Sample	-1,{
OnPCLoadMapEvent:
if( strcharinfo(3) == .Map$ ){

query_sql( "SELECT `last_ip` FROM `login` WHERE account_id="+getcharid(3)+"",.@IP );
query_sql( "SELECT `account_id` FROM `login` WHERE last_ip="+.@IP+"",.@Accountlist );

for( set .@i,0; .@i < getarraysize( .@Accountlist ); set .@i,.@i + 1 )
	if( isloggedin( .@Accountlist[.@i] ) ) 
		set .@DetectedOnline,.@DetectedOnline + 1;

	if( .@DetectedOnline > .Limit ){
		mes "We detected there is "+.@DetectedOnline+" Users with same IP Logged in.";
		mes "Please log off these unused account.";
		close2;
		warp "prontera",155,181;
	}
}
end;

OnInit:
// How many User with Same IP can logged in and stay at the specific map
set .Limit,1;
// What map will be restricted
set .Map$,"sh_fild16";
setmapflag .Map$,mf_loadevent;
end;
}